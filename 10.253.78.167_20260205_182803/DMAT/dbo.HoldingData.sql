-- Object: VIEW dbo.HoldingData
-- Server: 10.253.78.167 | DB: DMAT
--------------------------------------------------

CREATE View [dbo].[HoldingData]
 as

SELECT * FROM (
SELECT HOLDINGDT AS HLD_HOLD_DATE,HLD_AC_CODE,'01' AS HLD_CAT,HLD_ISIN_CODE,'11' AS HLD_AC_TYPE ,FREE_QTY AS HLD_AC_POS,'' HLD_CCID,'' AS HLD_MARKET_TYPE,'' AS HLD_SETTLEMENT,
'' AS HLD_BLF,'' AS HLD_BLC,'' AS HLD_LRD,'' HLD_PENDINGDT FROM citrus_usr.HOLDING  WITH(NOLOCK)  WHERE FREE_QTY <> 0.00
UNION ALL
SELECT HOLDINGDT AS HLD_HOLD_DATE,HLD_AC_CODE,'01' AS HLD_CAT,HLD_ISIN_CODE,'14' AS HLD_AC_TYPE ,REMAT_PND_CONF_QTY,'' HLD_CCID,'' AS HLD_MARKET_TYPE,'' AS HLD_SETTLEMENT,
'' AS HLD_BLF,'' AS HLD_BLC,'' AS HLD_LRD,'' HLD_PENDINGDT FROM citrus_usr.HOLDING  WITH(NOLOCK) WHERE REMAT_PND_CONF_QTY <> 0.00
UNION ALL
SELECT HOLDINGDT AS HLD_HOLD_DATE,HLD_AC_CODE,'01' AS HLD_CAT,HLD_ISIN_CODE,'14' AS HLD_AC_TYPE ,PLEDGE_QTY,'' HLD_CCID,'' AS HLD_MARKET_TYPE,'' AS HLD_SETTLEMENT,
'' AS HLD_BLF,'' AS HLD_BLC,'' AS HLD_LRD,'' HLD_PENDINGDT FROM citrus_usr.HOLDING  WITH(NOLOCK) WHERE PLEDGE_QTY <> 0.00
UNION ALL
SELECT HOLDINGDT AS HLD_HOLD_DATE,HLD_AC_CODE,'01' AS HLD_CAT,HLD_ISIN_CODE,'12' AS HLD_AC_TYPE ,DEMAT_PND_VER_QTY,'' HLD_CCID,'' AS HLD_MARKET_TYPE,'' AS HLD_SETTLEMENT,
'' AS HLD_BLF,'' AS HLD_BLC,'' AS HLD_LRD,'' HLD_PENDINGDT FROM citrus_usr.HOLDING  WITH(NOLOCK) WHERE DEMAT_PND_VER_QTY <> 0.00
UNION ALL
SELECT HOLDINGDT AS HLD_HOLD_DATE,HLD_AC_CODE,'01' AS HLD_CAT,HLD_ISIN_CODE,'22' AS HLD_AC_TYPE ,ELIMINATION_QTY,'' HLD_CCID,'' AS HLD_MARKET_TYPE,'' AS HLD_SETTLEMENT,
'' AS HLD_BLF,'' AS HLD_BLC,'' AS HLD_LRD,'' HLD_PENDINGDT FROM citrus_usr.HOLDING  WITH(NOLOCK) WHERE ELIMINATION_QTY <> 0.00
UNION ALL
SELECT HOLDINGDT AS HLD_HOLD_DATE,HLD_AC_CODE,'01' AS HLD_CAT,HLD_ISIN_CODE,'23' AS HLD_AC_TYPE ,EARMARK_QTY,'' HLD_CCID,'' AS HLD_MARKET_TYPE,'' AS HLD_SETTLEMENT,
'' AS HLD_BLF,'' AS HLD_BLC,'' AS HLD_LRD,'' HLD_PENDINGDT FROM citrus_usr.HOLDING  WITH(NOLOCK)  WHERE EARMARK_QTY <> 0.00
UNION ALL
SELECT HOLDINGDT AS HLD_HOLD_DATE,HLD_AC_CODE,'01' AS HLD_CAT,HLD_ISIN_CODE,'24' AS HLD_AC_TYPE ,LEND_QTY,'' HLD_CCID,'' AS HLD_MARKET_TYPE,'' AS HLD_SETTLEMENT,
'' AS HLD_BLF,'' AS HLD_BLC,'' AS HLD_LRD,'' HLD_PENDINGDT FROM citrus_usr.HOLDING  WITH(NOLOCK) WHERE LEND_QTY <> 0.00
UNION ALL
SELECT HOLDINGDT AS HLD_HOLD_DATE,HLD_AC_CODE,'01' AS HLD_CAT,HLD_ISIN_CODE,'25' AS HLD_AC_TYPE ,BORROW_QTY,'' HLD_CCID,'' AS HLD_MARKET_TYPE,'' AS HLD_SETTLEMENT,
'' AS HLD_BLF,'' AS HLD_BLC,'' AS HLD_LRD,'' HLD_PENDINGDT FROM citrus_usr.HOLDING  WITH(NOLOCK)  WHERE BORROW_QTY <> 0.00
UNION ALL
SELECT HOLDINGDT AS HLD_HOLD_DATE,HLD_AC_CODE,'01' AS HLD_CAT,HLD_ISIN_CODE,'50' AS HLD_AC_TYPE ,FREEZE_QTY,'' HLD_CCID,'' AS HLD_MARKET_TYPE,'' AS HLD_SETTLEMENT,
'' AS HLD_BLF,'' AS HLD_BLC,'' AS HLD_LRD,'' HLD_PENDINGDT FROM citrus_usr.HOLDING  WITH(NOLOCK) WHERE FREEZE_QTY <> 0.00
UNION ALL
SELECT HOLDINGDT AS HLD_HOLD_DATE,HLD_AC_CODE,'01' AS HLD_CAT,HLD_ISIN_CODE,'50' AS HLD_AC_TYPE ,SAFE_KEEPING_QTY,'' HLD_CCID,'' AS HLD_MARKET_TYPE,'' AS HLD_SETTLEMENT,
'' AS HLD_BLF,'' AS HLD_BLC,'' AS HLD_LRD,'' HLD_PENDINGDT FROM citrus_usr.HOLDING  WITH(NOLOCK) WHERE SAFE_KEEPING_QTY <> 0.00
UNION ALL
SELECT HOLDINGDT AS HLD_HOLD_DATE,HLD_AC_CODE,'01' AS HLD_CAT,HLD_ISIN_CODE,'51' AS HLD_AC_TYPE ,LOCKIN_QTY,'' HLD_CCID,'' AS HLD_MARKET_TYPE,'' AS HLD_SETTLEMENT,
'' AS HLD_BLF,'' AS HLD_BLC,'' AS HLD_LRD,'' HLD_PENDINGDT FROM citrus_usr.HOLDING  WITH(NOLOCK) WHERE LOCKIN_QTY <> 0.00
UNION ALL
SELECT HOLDINGDT AS HLD_HOLD_DATE,HLD_AC_CODE,'01' AS HLD_CAT,HLD_ISIN_CODE,'14' AS HLD_AC_TYPE ,AVAIL_LEND_QTY,'' HLD_CCID,'' AS HLD_MARKET_TYPE,'' AS HLD_SETTLEMENT,
'' AS HLD_BLF,'' AS HLD_BLC,'' AS HLD_LRD,'' HLD_PENDINGDT FROM citrus_usr.HOLDING  WITH(NOLOCK) WHERE AVAIL_LEND_QTY <> 0.00 )A

GO
