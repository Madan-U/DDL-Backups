-- Object: PROCEDURE citrus_usr.PR_EDIS_AUTOSLIPNO
-- Server: 10.253.33.227 | DB: DMAT
--------------------------------------------------

--EXEC PR_EDIS_AUTOSLIPNO '','','',''
--CREATE TABLE TMP_SLIPIDENTITY
--(
--TMP_SLIPNO INT IDENTITY,
--TMP_RMKS VARCHAR(10)
--)

CREATE PROCEDURE PR_EDIS_AUTOSLIPNO
(
@PA_ACTION VARCHAR(30)
,@PA_INTREFNO VARCHAR(100)
,@PA_FILLER1 VARCHAR(100)
,@PA_FILLER2 VARCHAR(100)
)
AS
BEGIN

--IF @PA_ACTION='SELECT'
--BEGIN
--SELECT ISNULL(BITRM_VALUES,'') INTREFNO FROM BITMAP_REF_MSTR WHERE  BITRM_PARENT_CD = 'ANGELEYENO'
--END

--IF @PA_ACTION='UPDATE'
--BEGIN
--UPDATE T SET T.BITRM_VALUES=@PA_INTREFNO + 1   FROM BITMAP_REF_MSTR T WHERE  BITRM_PARENT_CD = 'ANGELEYENO' 
--END
INSERT INTO TMP_SLIPIDENTITY
SELECT ''

SELECT MAX(TMP_SLIPNO) INTREFNO FROM TMP_SLIPIDENTITY

END

GO
